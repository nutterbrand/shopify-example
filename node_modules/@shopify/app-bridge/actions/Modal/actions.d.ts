import { ClientApplication } from '../../client';
import { ActionSetWithChildren } from '../helper';
import { ActionSetProps, ClickAction, Group, MetaAction } from '../types';
import { Button, Payload as ButtonPayload } from '../Button';
import { Action, ActionType, ClosePayload, Footer, FooterOptions, IframeOptions, IframePayload, MessageOptions, MessagePayload, UpdateSizePayload, ModalDataPayload, Size } from './types';
export interface ActionBase extends MetaAction {
    readonly group: typeof Group.Modal;
}
export interface OpenAction extends ActionBase {
    readonly type: typeof ActionType.OPEN;
    readonly payload: MessagePayload | IframePayload;
}
export declare type UpdateAction = OpenAction;
export interface CloseAction extends ActionBase {
    readonly type: typeof ActionType.CLOSE;
}
/**
 * Payload options for APP::MODAL::UPDATE_SIZE action
 * @public
 */
export interface UpdateSizeAction extends ActionBase {
    readonly payload: UpdateSizePayload;
}
/**
 * @internal
 */
export declare type ModalAction = OpenAction | UpdateAction | CloseAction | MetaAction | UpdateSizeAction;
export declare function openModal(modalPayload: MessagePayload | IframePayload): OpenAction;
export declare function closeModal(modalClosePayload: ClosePayload): CloseAction;
/**
 * Action creator for modal update size action
 * @internal
 */
export declare function updateModalSize(updateSizePayload: UpdateSizePayload): UpdateSizeAction;
export declare function clickFooterButton(id: string, payload?: any): ClickAction;
export declare function update(payload: MessagePayload | IframePayload): UpdateAction;
export declare function data(payload: ModalDataPayload): UpdateAction;
export declare function isIframeModal(options: MessagePayload | IframePayload | object): options is IframePayload;
export declare function isMessageModal(options: MessagePayload | IframePayload | object): options is MessagePayload;
export declare abstract class Modal extends ActionSetWithChildren {
    title?: string;
    size: Size;
    footerPrimary?: ButtonPayload;
    footerPrimaryOptions?: Button;
    footerSecondary?: ButtonPayload[];
    footerSecondaryOptions?: Button[];
    get footer(): Footer | undefined;
    get footerOptions(): FooterOptions | undefined;
    protected close(): void;
    protected setFooterPrimaryButton(newOptions: Button | undefined, updateCb: () => void): void;
    protected setFooterSecondaryButtons(newOptions: Button[] | undefined, updateCb: () => void): void;
    protected getChildButton(newAction: undefined | Button, currentAction: undefined | Button): Button | undefined;
    protected updatePrimaryFooterButton(newPayload: ButtonPayload, updateCb: () => void): void;
    protected updateSecondaryFooterButton(newPayload: ButtonPayload, updateCb: () => void): void;
}
export declare class ModalMessage extends Modal implements ActionSetProps<MessageOptions, MessagePayload> {
    message: string;
    constructor(app: ClientApplication<any>, options: MessageOptions);
    get payload(): {
        footer: Footer | undefined;
        id: string;
        message: string;
        size: Size;
        title: string | undefined;
    };
    get options(): {
        footer: FooterOptions | undefined;
        message: string;
        size: Size;
        title: string | undefined;
    };
    set(options: Partial<MessageOptions>, shouldUpdate?: boolean): this;
    dispatch(action: Action): this;
}
export declare class ModalIframe extends Modal implements ActionSetProps<IframeOptions, IframePayload> {
    url?: string;
    path?: string;
    constructor(app: ClientApplication<any>, options: IframeOptions);
    get payload(): {
        footer: Footer | undefined;
        id: string;
        path: string | undefined;
        size: Size;
        title: string | undefined;
        url: string | undefined;
    };
    get options(): {
        footer: FooterOptions | undefined;
        path: string | undefined;
        size: Size;
        title: string | undefined;
        url: string | undefined;
    };
    set(options: Partial<IframeOptions>, shouldUpdate?: boolean): this;
    dispatch(action: Action, payload?: ModalDataPayload): this;
}
export declare const create: (app: ClientApplication<any>, options: MessageOptions | IframeOptions) => ModalMessage | ModalIframe;

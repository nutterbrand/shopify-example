"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// Copied from https://github.com/Shopify/shopify_app
var itpHelper = "(function() {\n      function ITPHelper(opts) {\n        this.itpContent = document.getElementById('TopLevelInteractionContent');\n        this.itpAction = document.getElementById('TopLevelInteractionButton');\n        this.redirectUrl = opts.redirectUrl;\n      }\n\n      ITPHelper.prototype.redirect = function() {\n        sessionStorage.setItem('shopify.top_level_interaction', true);\n        window.location.href = this.redirectUrl;\n      }\n\n      ITPHelper.prototype.userAgentIsAffected = function() {\n        return Boolean(document.hasStorageAccess);\n      }\n\n      ITPHelper.prototype.canPartitionCookies = function() {\n        var versionRegEx = /Version\\/12\\.0\\.?\\d? Safari/;\n        return versionRegEx.test(navigator.userAgent);\n      }\n\n      ITPHelper.prototype.setUpContent = function(onClick) {\n        this.itpContent.style.display = 'block';\n        this.itpAction.addEventListener('click', this.redirect.bind(this));\n      }\n\n      ITPHelper.prototype.execute = function() {\n        if (!this.itpContent) {\n          return;\n        }\n\n        if (this.userAgentIsAffected()) {\n          this.setUpContent();\n        } else {\n          this.redirect();\n        }\n      }\n\n      this.ITPHelper = ITPHelper;\n    })(window);";
exports.default = itpHelper;

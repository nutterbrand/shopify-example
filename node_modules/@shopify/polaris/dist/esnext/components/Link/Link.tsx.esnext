import React$1 from 'react';
import { useFeatures } from '../../utilities/features/hooks.tsx.esnext';
import { useI18n } from '../../utilities/i18n/hooks.tsx.esnext';
import { classNames } from '../../utilities/css.ts.esnext';
import { ExternalSmallMinor } from '@shopify/polaris-icons';
import { Icon as Icon$1 } from '../Icon/Icon.tsx.esnext';
import { UnstyledLink as UnstyledLink$1 } from '../UnstyledLink/UnstyledLink.tsx.esnext';
import { BannerContext } from '../../utilities/banner-context.tsx.esnext';
import styles from './Link.scss.esnext';

function Link({
  url,
  children,
  onClick,
  external,
  id,
  monochrome
}) {
  const i18n = useI18n();
  let childrenMarkup = children;
  const {
    newDesignLanguage
  } = useFeatures();

  if (external && typeof children === 'string') {
    const iconLabel = i18n.translate('Polaris.Common.newWindowAccessibilityHint');
    childrenMarkup = /*#__PURE__*/React$1.createElement(React$1.Fragment, null, children, /*#__PURE__*/React$1.createElement("span", {
      className: styles.IconLockup
    }, /*#__PURE__*/React$1.createElement("span", {
      className: styles.IconLayout
    }, /*#__PURE__*/React$1.createElement(Icon$1, {
      accessibilityLabel: iconLabel,
      source: ExternalSmallMinor
    }))));
  }

  return /*#__PURE__*/React$1.createElement(BannerContext.Consumer, null, BannerContext => {
    const shouldBeMonochrome = monochrome || BannerContext;
    const className = classNames(styles.Link, shouldBeMonochrome && styles.monochrome, newDesignLanguage && styles.newDesignLanguage);
    return url ? /*#__PURE__*/React$1.createElement(UnstyledLink$1, {
      onClick: onClick,
      className: className,
      url: url,
      external: external,
      id: id
    }, childrenMarkup) : /*#__PURE__*/React$1.createElement("button", {
      type: "button",
      onClick: onClick,
      className: className,
      id: id
    }, childrenMarkup);
  });
}

export { Link };

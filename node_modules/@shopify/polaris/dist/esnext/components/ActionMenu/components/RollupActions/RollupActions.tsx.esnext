import React$1 from 'react';
import { useFeatures } from '../../../../utilities/features/hooks.tsx.esnext';
import { useI18n } from '../../../../utilities/i18n/hooks.tsx.esnext';
import { classNames } from '../../../../utilities/css.ts.esnext';
import { HorizontalDotsMinor } from '@shopify/polaris-icons';
import { Popover as Popover$1 } from '../../../Popover/Popover.tsx.esnext';
import { ActionList as ActionList$1 } from '../../../ActionList/ActionList.tsx.esnext';
import { Button as Button$1 } from '../../../Button/Button.tsx.esnext';
import { useToggle as useToggle$1 } from '../../../../utilities/use-toggle.ts.esnext';
import styles from './RollupActions.scss.esnext';

function RollupActions({
  items = [],
  sections = []
}) {
  const i18n = useI18n();
  const {
    newDesignLanguage
  } = useFeatures();
  const classname = classNames(styles.RollupActivator, newDesignLanguage && styles.newDesignLanguage);
  const {
    value: rollupOpen,
    toggle: toggleRollupOpen
  } = useToggle$1(false);

  if (items.length === 0 && sections.length === 0) {
    return null;
  }

  const activatorMarkup = /*#__PURE__*/React$1.createElement("div", {
    className: classname
  }, /*#__PURE__*/React$1.createElement(Button$1, {
    plain: !newDesignLanguage,
    outline: newDesignLanguage,
    icon: HorizontalDotsMinor,
    accessibilityLabel: i18n.translate('Polaris.ActionMenu.RollupActions.rollupButton'),
    onClick: toggleRollupOpen
  }));
  return /*#__PURE__*/React$1.createElement(Popover$1, {
    active: rollupOpen,
    activator: activatorMarkup,
    preferredAlignment: "right",
    onClose: toggleRollupOpen,
    hideOnPrint: true
  }, /*#__PURE__*/React$1.createElement(ActionList$1, {
    items: items,
    sections: sections,
    onActionAnyItem: toggleRollupOpen
  }));
}

export { RollupActions };
